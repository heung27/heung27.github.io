<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Item 1. 생성자 대신 정적 팩터리 메서드를 고려하라" /><meta property="og:locale" content="en" /><meta name="description" content="Effective Java의 첫 번째 아이템 “생성자 대신 정적 팩터리 메서드를 고려하라”를 읽고 정리한 내용을 포스팅합니다." /><meta property="og:description" content="Effective Java의 첫 번째 아이템 “생성자 대신 정적 팩터리 메서드를 고려하라”를 읽고 정리한 내용을 포스팅합니다." /><link rel="canonical" href="https://github.com/heung27/posts/effective-java-item-1-%EC%83%9D%EC%84%B1%EC%9E%90-%EB%8C%80%EC%8B%A0-%EC%A0%95%EC%A0%81-%ED%8C%A9%ED%84%B0%EB%A6%AC-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%98%EB%9D%BC/" /><meta property="og:url" content="https://github.com/heung27/posts/effective-java-item-1-%EC%83%9D%EC%84%B1%EC%9E%90-%EB%8C%80%EC%8B%A0-%EC%A0%95%EC%A0%81-%ED%8C%A9%ED%84%B0%EB%A6%AC-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%98%EB%9D%BC/" /><meta property="og:site_name" content="H’s Tech Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-04-09T23:22:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Item 1. 생성자 대신 정적 팩터리 메서드를 고려하라" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-04-23T00:03:24+09:00","datePublished":"2022-04-09T23:22:00+09:00","description":"Effective Java의 첫 번째 아이템 “생성자 대신 정적 팩터리 메서드를 고려하라”를 읽고 정리한 내용을 포스팅합니다.","headline":"Item 1. 생성자 대신 정적 팩터리 메서드를 고려하라","mainEntityOfPage":{"@type":"WebPage","@id":"https://github.com/heung27/posts/effective-java-item-1-%EC%83%9D%EC%84%B1%EC%9E%90-%EB%8C%80%EC%8B%A0-%EC%A0%95%EC%A0%81-%ED%8C%A9%ED%84%B0%EB%A6%AC-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%98%EB%9D%BC/"},"url":"https://github.com/heung27/posts/effective-java-item-1-%EC%83%9D%EC%84%B1%EC%9E%90-%EB%8C%80%EC%8B%A0-%EC%A0%95%EC%A0%81-%ED%8C%A9%ED%84%B0%EB%A6%AC-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%98%EB%9D%BC/"}</script><title>Item 1. 생성자 대신 정적 팩터리 메서드를 고려하라 | H's Tech Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="H's Tech Blog"><meta name="application-name" content="H's Tech Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/me.jpeg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">H's Tech Blog</a></div><div class="site-subtitle font-italic">주니어 서버 개발자의 성장기</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/heung27" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['wlsgmd1535','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Item 1. 생성자 대신 정적 팩터리 메서드를 고려하라</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Item 1. 생성자 대신 정적 팩터리 메서드를 고려하라</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/heung27">Jin Heung An</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1649514120" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-04-09 </em> </span> <span> Updated <em class="timeago" data-ts="1650639804" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-04-23 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3510 words"> <em>19 min</em> read</span></div></div></div><div class="post-content"><p>Effective Java의 첫 번째 아이템 “생성자 대신 정적 팩터리 메서드를 고려하라”를 읽고 정리한 내용을 포스팅합니다.</p><p><br /></p><h2 id="0-들어가며">0. 들어가며 <a href="#0-들어가며" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>시작하기 전에 정적 팩터리 메서드(static factory method)의 개념을 알아보겠습니다. 다음은 Boolean 클래스에서 제공하는 정적 팩터리 메서드입니다.</p><div class="language-jsx highlighter-rouge"><div class="code-header"> <span data-label-text="Jsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c1">// 정적 팩터리 메서드 예시</span>
<span class="kr">public</span> <span class="kd">static</span> <span class="nb">Boolean</span> <span class="nx">valueOf</span><span class="p">(</span><span class="nx">boolean</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">return</span> <span class="nx">b</span> <span class="p">?</span> <span class="nb">Boolean</span><span class="p">.</span><span class="nx">TRUE</span> <span class="p">:</span> <span class="nb">Boolean</span><span class="p">.</span><span class="nx">FALSE</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>해당 메서드는 기본 타입인 boolean 값을 받아 Boolean 객체 참조로 변환해 줍니다. 정적 팩터리 메서드란 단순히 클래스의 인스턴스를 반환하는 static 메서드 것입니다.</p><p>이처럼 클래스는 클라이언트에 public 생성자 대신 (혹은 생성자와 함께) 정적 팩터리 메서드를 제공할 수 있습니다. 이 방식에는 장점과 단점이 모두 존재하는데, 본문에서 간단한 예제를 통해 자세히 살펴보겠습니다.</p><p><br /></p><h2 id="1-장점">1. 장점 <a href="#1-장점" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="11-이름을-가질-수-있다">1.1. 이름을 가질 수 있다. <a href="#11-이름을-가질-수-있다" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>생성자에 넘기는 매개변수와 생성자 자체만으로는 반환될 객체의 특성을 제대로 설명하지 못합니다. 반면 정적 팩터리 메서드는 이름만 잘 지으면 <strong>반환될 객체의 특성을 쉽게 묘사할 수 있습니다.</strong></p><p>다음 예제는 BigInteger 클래스가 제공하는 probablePrime라는 정적 팩터리 메서드입니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">java.math</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BigInteger</span> <span class="kd">extends</span> <span class="nc">Number</span> <span class="kd">implements</span> <span class="nc">Comparable</span><span class="o">&lt;</span><span class="nc">BigInteger</span><span class="o">&gt;</span> <span class="o">{</span>

      <span class="c1">// probablePrime라는 이름을 통해 '값이 소수인 BigInteger를 반환한다'라는 의미를 명확히 합니다.</span>
	    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">BigInteger</span> <span class="nf">probablePrime</span><span class="o">(</span><span class="kt">int</span> <span class="n">bitLength</span><span class="o">,</span> <span class="nc">Random</span> <span class="n">rnd</span><span class="o">)</span> <span class="o">{</span>
	      <span class="k">if</span> <span class="o">(</span><span class="n">bitLength</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="o">)</span>
	          <span class="k">throw</span> <span class="k">new</span> <span class="nf">ArithmeticException</span><span class="o">(</span><span class="s">"bitLength &lt; 2"</span><span class="o">);</span>
	
	      <span class="k">return</span> <span class="o">(</span><span class="n">bitLength</span> <span class="o">&lt;</span> <span class="no">SMALL_PRIME_THRESHOLD</span> <span class="o">?</span>
	              <span class="n">smallPrime</span><span class="o">(</span><span class="n">bitLength</span><span class="o">,</span> <span class="no">DEFAULT_PRIME_CERTAINTY</span><span class="o">,</span> <span class="n">rnd</span><span class="o">)</span> <span class="o">:</span>
	              <span class="n">largePrime</span><span class="o">(</span><span class="n">bitLength</span><span class="o">,</span> <span class="no">DEFAULT_PRIME_CERTAINTY</span><span class="o">,</span> <span class="n">rnd</span><span class="o">));</span>
		<span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><br /></p><h3 id="12-호출될-때마다-인스턴스를-새로-생성하지는-않아도-된다">1.2. 호출될 때마다 인스턴스를 새로 생성하지는 않아도 된다. <a href="#12-호출될-때마다-인스턴스를-새로-생성하지는-않아도-된다" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>이 덕분에 불변 클래스는 <strong>인스턴스를 미리 만들어 놓거나 새로 생성한 인스턴스를 캐싱 하여 재활용하는 식으로 불필요한 객체 생성을 피할 수 있습니다.</strong> 비슷한 기법으로 플라이웨이트 패턴이 있습니다.</p><p>반복되는 요청에 같은 객체를 반환하는 식으로 정적 팩터리 방식의 클래스는 언제 어느 인스턴스를 살아 있게 할지를 철저하게 통제할 수 있습니다. 이런 클래스를 통제 클래스라 합니다.</p><p>그렇다면 인스턴스를 통제하는 이유는 무엇일까요?</p><p>인스턴스를 통제하면 클래스를 싱글턴 또는 인스턴스화 불가로 만들 수 있습니다. 또한 불변 값 클래스에서 동치인 인스턴스가 단 하나뿐 임을 보장할 수 있습니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Developer</span> <span class="o">{</span>

    <span class="kt">boolean</span> <span class="n">canBackend</span><span class="o">;</span>

    <span class="kt">boolean</span> <span class="n">canFrontend</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nf">Developer</span><span class="o">()</span> <span class="o">{}</span>

    <span class="c1">// 인스턴스를 미리 만들어 놓고, 이를 재활용 한다.</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">Developer</span> <span class="n">developer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Developer</span><span class="o">();</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Developer</span> <span class="nf">getBackEnd</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">developer</span><span class="o">.</span><span class="na">canBackend</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">developer</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Developer</span> <span class="nf">getFrontEnd</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">developer</span><span class="o">.</span><span class="na">canFrontend</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">developer</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Developer</span> <span class="nf">getFullStack</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">developer</span><span class="o">.</span><span class="na">canBackend</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="n">developer</span><span class="o">.</span><span class="na">canFrontend</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">developer</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></table></code></div></div><p><br /></p><blockquote><p><strong>플라이웨이트 패턴(Flyweight Pattern)</strong></p><p>어떤 클래스의 인스턴스 한 개만 가지고 여러 개의 가상 인스턴스를 제공하고 싶을 때 사용하는 패턴입니다. 즉, 인스턴스를 가능한 대로 공유시켜 쓸데없이 new 연산자를 통한 메모리 낭비를 줄이는 방식입니다.</p></blockquote><p><br /></p><h3 id="13-반환-타입의-하위-타입-객체를-반환할-수-있는-능력이-있다">1.3. 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다. <a href="#13-반환-타입의-하위-타입-객체를-반환할-수-있는-능력이-있다" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>이 능력은 <strong>반환할 객체의 클래스를 자유롭게 선택할 수 있게 하는 ‘엄청난 유연성’을 선물합니다.</strong> API를 만들 때 이 유연성을 응용하면 구현 클래스를 공개하지 않고도 그 객체를 반환할 수 있어 API를 작게 유지할 수 있습니다. 이는 인터페이스를 정적 팩터리 메서드의 반환 타입으로 사용하는 인터페이스 기반 프레임워크를 만드는 핵심 기술입니다.</p><p>자바 컬렉션 프레임워크는 핵심 인터페이스들에 수정 불가나 동기화 등의 기능을 덧붙이 총 45개의 유틸리티 구현체를 제공하는데, 이 구현체 대부분을 단 하나의 인스턴스 불가 동반 클래스인 java.util.Collections에서 정적 팩터리 메서드를 통해 얻도록 했습니다.</p><p>컬렉션 프레임워크는 이 45개의 클래스를 공개하지 않기 때문에 API 외견을 훨씬 작게 만들 수 있습니다. API가 작아진 것은 물론 개념적인 무게, 즉 프로그래머가 API를 사용하기 위해 익혀야 하는 개념의 수와 난이도도 낮췄습니다. 프로그래머는 명시한 인터페이스대로 동작하는 객체를 얻을 것임을 알기에 굳이 별도 문서를 찾아가며 실제 구현 클래스가 무엇인지 알아보지 않아도 됩니다. 나아가 정적 팩터리 메서드를 사용하는 클라이언트는 객체를 인터페이스만으로 다루게 됩니다.</p><p><br /></p><blockquote><p><strong>인스턴스화 불가 동반 클래스(companion class)</strong></p><p>java 8 이전에는 인터페이스에서 정적 메서드를 정의할 수 없기 때문에 인스턴스화 불가 동반 클래스를 두어 관련된 정적 메서드를 제공했습니다. 대표적인 예로 위에서 언급한 Collection 인터페이스와 Collections 동반 클래스가 있습니다. java 8 이후에는 인터페이스가 정적 메서드를 가질 수 없다는 제한이 풀렸기 때문에, 동반 클래스에 두었던 정적 메서드를 인터페이스 자체에 둘 수 있게 되었습니다. 따라서 인스턴스화 불가 동반 클래스를 둘 이유가 없어졌습니다.</p></blockquote><p><br /></p><h3 id="14-입력-매개변수에-따라-매번-다른-클래스의-객체를-반환할-수-있다">1.4. 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다. <a href="#14-입력-매개변수에-따라-매번-다른-클래스의-객체를-반환할-수-있다" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>반환 타입의 하위 타입이기만 하면 어떤 클래스의 객체를 반환하든 상관없습니다. 클라이언트는 팩터리가 건네주는 객체가 어느 클래스의 인스턴스인지 알 수도 없고 알 필요도 없습니다.</p><p>다음은 EnumSet 클래스가 제공하는 noneOf라는 정적 팩터리 메서드입니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">java.util</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">EnumSet</span><span class="o">&lt;</span><span class="no">E</span> <span class="kd">extends</span> <span class="nc">Enum</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;&gt;</span> <span class="o">{</span>
	<span class="o">...</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="no">E</span> <span class="kd">extends</span> <span class="nc">Enum</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;&gt;</span> <span class="nc">EnumSet</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="nf">noneOf</span><span class="o">(</span><span class="nc">Class</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="n">elementType</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Enum</span><span class="o">&lt;?&gt;[]</span> <span class="n">universe</span> <span class="o">=</span> <span class="n">getUniverse</span><span class="o">(</span><span class="n">elementType</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">universe</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">ClassCastException</span><span class="o">(</span><span class="n">elementType</span> <span class="o">+</span> <span class="s">" not an enum"</span><span class="o">);</span>

        <span class="c1">// 원소가 64개 이하면 원소들을 long 변수 하나로 관리하는 RegularEnumSet 인스턴스를 반환합니다.</span>
        <span class="c1">// 65개 이상이면 long 배열로 관리하는 JumboEnumSet의 인스턴스를 반환합니다.</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">universe</span><span class="o">.</span><span class="na">length</span> <span class="o">&lt;=</span> <span class="mi">64</span><span class="o">)</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nc">RegularEnumSet</span><span class="o">&lt;&gt;(</span><span class="n">elementType</span><span class="o">,</span> <span class="n">universe</span><span class="o">);</span>
        <span class="k">else</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nc">JumboEnumSet</span><span class="o">&lt;&gt;(</span><span class="n">elementType</span><span class="o">,</span> <span class="n">universe</span><span class="o">);</span>
    <span class="o">}</span>

	<span class="o">...</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">java.util</span><span class="o">;</span>

<span class="c1">// 위의 noneOf 메서드는 반환형이 EnumSet 인데, RegularEnumSet와 JumboEnumSet를 반환했습니다.</span>
<span class="c1">// 이렇게 할 수 있는 이유는 RegularEnumSet와 JumboEnumSet이 EnumSet의 하위 타입이기 때문입니다. (장점 3)</span>
<span class="kd">class</span> <span class="nc">RegularEnumSet</span><span class="o">&lt;</span><span class="no">E</span> <span class="kd">extends</span> <span class="nc">Enum</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;&gt;</span> <span class="kd">extends</span> <span class="nc">EnumSet</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
	<span class="o">...</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">JumboEnumSet</span><span class="o">&lt;</span><span class="no">E</span> <span class="kd">extends</span> <span class="nc">Enum</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;&gt;</span> <span class="kd">extends</span> <span class="nc">EnumSet</span><span class="o">&lt;</span><span class="no">E</span><span class="o">&gt;</span> <span class="o">{</span>
	<span class="o">...</span>
<span class="o">}</span>
</pre></table></code></div></div><p><br /></p><h3 id="15-정적-펙터리-메서드를-작성하는-시점에는-반환할-객체의-클래스가-존재하지-않아도-된다">1.5. 정적 펙터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다. <a href="#15-정적-펙터리-메서드를-작성하는-시점에는-반환할-객체의-클래스가-존재하지-않아도-된다" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>다음 예제는 프로젝트 내부에 HelloService의 동작을 구현하는 구현체가 존재하지 않는 상황에서 HelloService 사용하는 예제입니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">HelloService</span> <span class="o">{</span>

    <span class="nc">String</span> <span class="nf">hello</span><span class="o">();</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloServiceFactory</span> <span class="o">{</span>

    <span class="cm">/*
        ServiceLoader를 통해 외부 라이브러리(jar)에 포함된 구현체를 읽어들여 사용합니다.
        즉, 어떤 구현체가 올지 모르지만 해당 구현체가 따르는 인터페이스 기반으로 사용하는 것입니다.
        이는 특정 구현체에 의존하지 않기 때문에(import도 하지 않음) 유연한 코드입니다.
     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="nc">Optional</span><span class="o">&lt;</span><span class="nc">HelloService</span><span class="o">&gt;</span> <span class="nf">getService</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">ServiceLoader</span><span class="o">&lt;</span><span class="nc">HelloService</span><span class="o">&gt;</span> <span class="n">loader</span> <span class="o">=</span> <span class="nc">ServiceLoader</span><span class="o">.</span><span class="na">load</span><span class="o">(</span><span class="nc">HelloService</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">loader</span><span class="o">.</span><span class="na">findFirst</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloMain</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">HelloServiceFactory</span><span class="o">.</span><span class="na">getService</span><span class="o">()</span>
                <span class="o">.</span><span class="na">ifPresent</span><span class="o">(</span><span class="nl">HelloService:</span><span class="o">:</span><span class="n">hello</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p><strong>이런 유연함은 서비스 제공자 프레임워크를 만드는 근간이 됩니다.</strong> 대표적인 서비스 제공자 프레임워크로는 JDBC가 있습니다. 서비스 제공자 프레임워크에서의 제공자는 서비스의 구현체입니다. 그리고 이 구현체들을 클라이언트에 제공하는 역할을 프레임워크가 통제하여, 클라이언트를 구현체로부터 분리해 줍니다.</p><p>서비스 제공자 프레임워크는 3개의 핵심 컴포넌트로 이뤄집니다.</p><ul><li><strong>서비스 인터페이스</strong> : 구현체의 동작을 정의<li><strong>제공자 등록 API</strong> : 제공자가 구현체를 등록할 때 사용<li><strong>서비스 접근 API</strong> : 클라이언트가 서비스의 인스턴스를 얻을 때 사용</ul><p>클라이언트는 서비스 접근 API를 사용할 때 원하는 구현체의 조건을 명시할 수 있습니다. 조건을 명시하지 않으면 기본 구현체를 반환하거나 지원하는 구현체들을 하나씩 돌아가며 반환합니다. 이 서비스 접근 API가 바로 서비스 제공자 프레임워크의 근간이라고 한 ‘유연한 정적 팩터리’의 실체입니다.</p><p>3개의 핵심 컴포넌트와 더불어 종종 <strong>서비스</strong> <strong>제공자 인터페이스</strong>라는 네 번째 컴포넌트가 쓰이기도 합니다. 이 컴포넌트는 서비스 인터페이스의 인스턴스를 생성하는 팩터리 객체를 설명해 줍니다. 서비스 제공자 인터페이스가 없다면 각 구현체를 인스턴스로 만들 때 리플렉션을 사용해야 합니다.</p><p>서비스 제공자 프레임워크 패턴에는 여러 변형이 있습니다. 예컨대 서비스 접근 API는 공급자가 제공하는 것보다 더 풍부한 서비스 인터페이스를 클라이언트에 반환할 수 있습니다. 브리지 패턴이라 알려진 것입니다. 의존 객체 주입 프레임워크도 강력한 서비스 제공자라고 생각할 수 있습니다.</p><p><br /></p><blockquote><p><strong>브리지 패턴(Bridge pattern)</strong></p><p>구현부에서 추상층을 분리하여 각자 독립적으로 변형 및 확장이 가능하도록 만드는 패턴입니다. 즉, 기능과 구현에 대해 두 개의 별도의 클래스로 구현합니다.</p></blockquote><p><br /></p><h2 id="2-단점">2. 단점 <a href="#2-단점" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="21-상속을-하려면-public이나-protected-생성자가-필요하니-정적-팩터리-메서드만-제공하면-하위-클래스를-만들-수-없다">2.1. 상속을 하려면 public이나 protected 생성자가 필요하니 정적 팩터리 메서드만 제공하면 하위 클래스를 만들 수 없다. <a href="#21-상속을-하려면-public이나-protected-생성자가-필요하니-정적-팩터리-메서드만-제공하면-하위-클래스를-만들-수-없다" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>어찌 보면 이 제약은 상속보다 컴포지션을 사용하도록 유도하고 불변 타입으로 만들려면 이 제약을 지켜야 한다는 점에서 오히려 장점으로 받아들일 수도 있습니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c1">// 컴파일 에러</span>
<span class="c1">// 하위 클래스(JuniorDeveloper)에서 상위 클래스(Developer)의 생성자를 사용할 수 없기 때문에 에러가 발생합니다.</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">JuniorDeveloper</span> <span class="kd">extends</span> <span class="nc">Developer</span> <span class="o">{</span>
	<span class="o">...</span>
<span class="o">}</span>
</pre></table></code></div></div><p><br /></p><h3 id="22-정적-팩터리-메서드는-프로그래머가-찾기-어렵다">2.2. 정적 팩터리 메서드는 프로그래머가 찾기 어렵다. <a href="#22-정적-팩터리-메서드는-프로그래머가-찾기-어렵다" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><p>생성자처럼 API 설명에 명확히 드러나지 않으니 사용자는 정적 팩터리 메서드 방식 클래스를 인스턴스화할 방법을 알아내야 합니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c1">// document 생성</span>
<span class="n">mvn</span> <span class="nl">javadoc:</span><span class="n">javadoc</span>
</pre></table></code></div></div><p>java document에서 생성자의 경우 해당 내용을 정의하는 영역이 있어 한눈에 확인할 수 있지만, 정적 팩터리 메서드의 경우 많은 메서드들 사이에 정의되어 있어 사용자가 직접 찾아봐야 하는 번거로움이 존재합니다. 이런 불편을 해소하기 위해서는 아래와 같이 document에 관련 설명을 추가하는 것을 권장합니다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="cm">/**
 * 이 클래스는 생성자를 제공하지 않으며, 인스턴스를 얻기 위해 정적 팩터리 메서드를 사용합니다.
 * @see #getBackEnd()
 * @see #getFrontEnd()
 * @see #getFullStack()
 */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Developer</span> <span class="o">{</span>
	<span class="o">...</span>
<span class="o">}</span>
</pre></table></code></div></div><p><br /></p><h2 id="3-핵심-정리">3. 핵심 정리 <a href="#3-핵심-정리" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>정적 팩터리 메서드와 public 생성자는 각자의 쓰임새가 있으니 상대적인 장단점을 이해하고 사용하는 것이 좋다. 그렇다고 하더라도 정적 팩터리를 사용하는 것이 유리한 경우가 더 많으므로 무작정 public 생성자를 제공하는 습관이 있다면 고치자.</p><p><br /></p><h2 id="4-related-posts">4. Related Posts <a href="#4-related-posts" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>불변 (Item 17)<li><a href="https://heung27.github.io/posts/effective-java-private-%EC%83%9D%EC%84%B1%EC%9E%90%EB%82%98-%EC%97%B4%EA%B1%B0-%ED%83%80%EC%9E%85%EC%9C%BC%EB%A1%9C-%EC%8B%B1%EA%B8%80%ED%84%B4%EC%9E%84%EC%9D%84-%EB%B3%B4%EC%A6%9D%ED%95%98%EB%9D%BC/">싱글턴 (Item 3)</a><li><a href="https://heung27.github.io/posts/item-4-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%ED%99%94%EB%A5%BC-%EB%A7%89%EC%9C%BC%EB%A0%A4%EA%B1%B0%EB%93%A0-private-%EC%83%9D%EC%84%B1%EC%9E%90%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%9D%BC/">인스턴스화 불가 (Item 4)</a><li>인터페이스 기반 프레임워크 (Item 20)<li>EnumSet 클래스 (Item 36)<li>리플랙션 (Item 65)<li><a href="https://heung27.github.io/posts/item-5-%EC%9E%90%EC%9B%90%EC%9D%84-%EC%A7%81%EC%A0%91-%EB%AA%85%EC%8B%9C%ED%95%98%EC%A7%80-%EB%A7%90%EA%B3%A0-%EC%9D%98%EC%A1%B4-%EA%B0%9D%EC%B2%B4-%EC%A3%BC%EC%9E%85%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EB%9D%BC/">의존 객체 주입 (Item 5)</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/book/'>Book</a>, <a href='/categories/effective-java/'>Effective Java</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/java/" class="post-tag no-text-decoration" >Java</a> <a href="/tags/effective-java/" class="post-tag no-text-decoration" >Effective Java</a> <a href="/tags/static-method/" class="post-tag no-text-decoration" >Static Method</a> <a href="/tags/constructor/" class="post-tag no-text-decoration" >Constructor</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-1 pt-1 pb-2"><div class="license-wrapper"></div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Item 1. 생성자 대신 정적 팩터리 메서드를 고려하라 - H&#39;s Tech Blog&amp;url=https://github.com/heung27/posts/effective-java-item-1-%EC%83%9D%EC%84%B1%EC%9E%90-%EB%8C%80%EC%8B%A0-%EC%A0%95%EC%A0%81-%ED%8C%A9%ED%84%B0%EB%A6%AC-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%98%EB%9D%BC/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Item 1. 생성자 대신 정적 팩터리 메서드를 고려하라 - H&#39;s Tech Blog&amp;u=https://github.com/heung27/posts/effective-java-item-1-%EC%83%9D%EC%84%B1%EC%9E%90-%EB%8C%80%EC%8B%A0-%EC%A0%95%EC%A0%81-%ED%8C%A9%ED%84%B0%EB%A6%AC-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%98%EB%9D%BC/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://github.com/heung27/posts/effective-java-item-1-%EC%83%9D%EC%84%B1%EC%9E%90-%EB%8C%80%EC%8B%A0-%EC%A0%95%EC%A0%81-%ED%8C%A9%ED%84%B0%EB%A6%AC-%EB%A9%94%EC%84%9C%EB%93%9C%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%98%EB%9D%BC/&amp;text=Item 1. 생성자 대신 정적 팩터리 메서드를 고려하라 - H&#39;s Tech Blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/item-21-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4%EB%8A%94-%EA%B5%AC%ED%98%84%ED%95%98%EB%8A%94-%EC%AA%BD%EC%9D%84-%EC%83%9D%EA%B0%81%ED%95%B4-%EC%84%A4%EA%B3%84%ED%95%98%EB%9D%BC/">Item 21. 인터페이스는 구현하는 쪽을 생각해 설계하라</a><li><a href="/posts/item-20-%EC%B6%94%EC%83%81-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%B3%B4%EB%8B%A4%EB%8A%94-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4%EB%A5%BC-%EC%9A%B0%EC%84%A0%ED%95%98%EB%9D%BC/">Item 20. 추상 클래스보다는 인터페이스를 우선하라</a><li><a href="/posts/item-19-%EC%83%81%EC%86%8D%EC%9D%84-%EA%B3%A0%EB%A0%A4%ED%95%B4-%EC%84%A4%EA%B3%84%ED%95%98%EA%B3%A0-%EB%AC%B8%EC%84%9C%ED%99%94%ED%95%98%EB%9D%BC-%EA%B7%B8%EB%9F%AC%EC%A7%80-%EC%95%8A%EC%95%98%EB%8B%A4%EB%A9%B4-%EC%83%81%EC%86%8D%EC%9D%84-%EA%B8%88%EC%A7%80%ED%95%98%EB%9D%BC/">Item 19. 상속을 고려해 설계하고 문서화하라. 그러지 않았다면 상속을 금지하라</a><li><a href="/posts/item-18-%EC%83%81%EC%86%8D%EB%B3%B4%EB%8B%A4%EB%8A%94-%EC%BB%B4%ED%8F%AC%EC%A7%80%EC%85%98%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EB%9D%BC/">Item 18. 상속보다는 컴포지션을 사용하라</a><li><a href="/posts/item-17-%EB%B3%80%EA%B2%BD-%EA%B0%80%EB%8A%A5%EC%84%B1%EC%9D%84-%EC%B5%9C%EC%86%8C%ED%99%94%ED%95%98%EB%9D%BC/">Item 17. 변경 가능성을 최소화하라</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/effective-java/">Effective Java</a> <a class="post-tag" href="/tags/java-8/">Java 8</a> <a class="post-tag" href="/tags/override/">Override</a> <a class="post-tag" href="/tags/lambda/">Lambda</a> <a class="post-tag" href="/tags/method-reference/">Method Reference</a> <a class="post-tag" href="/tags/constructor/">Constructor</a> <a class="post-tag" href="/tags/functional-interface/">Functional Interface</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/interface/">Interface</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/effective-java-item-2-%EC%83%9D%EC%84%B1%EC%9E%90%EC%97%90-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98%EA%B0%80-%EB%A7%8E%EB%8B%A4%EB%A9%B4-%EB%B9%8C%EB%8D%94%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%98%EB%9D%BC/"><div class="card-body"> <em class="timeago small" data-ts="1649581380" > 2022-04-10 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Item 2. 생성자에 매개변수가 많다면 빌더를 고려하라</h3><div class="text-muted small"><p> Effective Java의 두 번째 아이템 “생성자에 매개변수가 많다면 빌더를 고려하라”를 읽고 정리한 내용을 포스팅합니다. 0. 들어가며 생성자와 정적 팩터리는 선택적 매개변수가 많을 때 적절히 대응하기 어렵다는 제약이 있습니다. 본문에서 이를 해결하기 위한 세 가지 대안을 제시하고, 그중 일반적으로 가장 효과적인 빌더 패턴에 대해 자세히 ...</p></div></div></a></div><div class="card"> <a href="/posts/item-4-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%ED%99%94%EB%A5%BC-%EB%A7%89%EC%9C%BC%EB%A0%A4%EA%B1%B0%EB%93%A0-private-%EC%83%9D%EC%84%B1%EC%9E%90%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%9D%BC/"><div class="card-body"> <em class="timeago small" data-ts="1650024900" > 2022-04-15 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Item 4. 인스턴스화를 막으려거든 private 생성자를 사용하라</h3><div class="text-muted small"><p> Effective Java의 네 번째 아이템 “인스턴스화를 막으려거든 private 생성자를 사용하라”를 읽고 정리한 내용을 포스팅합니다. 0. 들어가며 책에서 인스턴스화를 막아놓는 클래스의 예시로 유틸리티 클래스를 언급합니다. 본문에서 유틸리티 클래스에 대한 개념과 인스턴스화를 막는 방법을 알아보겠습니다. 1. 유틸리티 클래스 유틸리티...</p></div></div></a></div><div class="card"> <a href="/posts/item-15-%ED%81%B4%EB%9E%98%EC%8A%A4%EC%99%80-%EB%A9%A4%EB%B2%84%EC%9D%98-%EC%A0%91%EA%B7%BC-%EA%B6%8C%ED%95%9C%EC%9D%84-%EC%B5%9C%EC%86%8C%ED%99%94%ED%95%98%EB%9D%BC/"><div class="card-body"> <em class="timeago small" data-ts="1655044020" > 2022-06-12 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Item 15. 클래스와 멤버의 접근 권한을 최소화하라</h3><div class="text-muted small"><p> Effective Java의 열다섯 번째 아이템 “클래스와 멤버의 접근 권한을 최소화하라”를 읽고 정리한 내용을 포스팅합니다. 0. 들어가며 어설프게 설계된 컴포넌트와 잘 설계된 컴포넌트의 가장 큰 차이는 클래스 내부 데이터와 내부 구현 정보를 외부 컴포넌트로부터 얼마나 잘 숨겼느냐입니다. 잘 설계되 컴포넌트는 모든 내부 구현을 완벽히 숨겨,...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/lambda/" class="btn btn-outline-primary" prompt="Older"><p>Lambda Expression</p></a> <a href="/posts/effective-java-item-2-%EC%83%9D%EC%84%B1%EC%9E%90%EC%97%90-%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98%EA%B0%80-%EB%A7%8E%EB%8B%A4%EB%A9%B4-%EB%B9%8C%EB%8D%94%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%98%EB%9D%BC/" class="btn btn-outline-primary" prompt="Newer"><p>Item 2. 생성자에 매개변수가 많다면 빌더를 고려하라</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/heung27">Jin Heung An</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/effective-java/">Effective Java</a> <a class="post-tag" href="/tags/java-8/">Java 8</a> <a class="post-tag" href="/tags/override/">Override</a> <a class="post-tag" href="/tags/lambda/">Lambda</a> <a class="post-tag" href="/tags/method-reference/">Method Reference</a> <a class="post-tag" href="/tags/constructor/">Constructor</a> <a class="post-tag" href="/tags/functional-interface/">Functional Interface</a> <a class="post-tag" href="/tags/spring/">Spring</a> <a class="post-tag" href="/tags/interface/">Interface</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-J2QJ5KLVPE"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-J2QJ5KLVPE'); }); </script>
